
<div class=" row row-0 ">
  <div class="card center">
      <div class="card-block">
          <h3>
              Jeu de données
            </h3>
    
    
            <small>Cadre d'acquisition </small>
            <div class="input-group" [ngClass]="{'has-danger' : datasetForm.controls.id_acquisition_framework.invalid}">
              <select
                class="form-control form-control-sm"
                [disableControl]="disabled"
                [formControl]="datasetForm.controls.id_acquisition_framework">
                <option *ngFor="let ac of acquisitionFrameworks" [ngValue]="ac.id_acquisition_framework">
                  {{ac.acquisition_framework_name}}
                </option>
              </select>
            </div>
    
    
            <small>Nom du JDD </small>
            <div class="input-group " [ngClass]="{'has-danger' : datasetForm.controls.dataset_name.invalid}">
                <input class="form-control form-control-sm" type="text" name="" id=""
                [formControl]="datasetForm.controls.dataset_name">
            </div>
    
            <small>Nom  court du JDD </small>
            <div class="input-group" [ngClass]="{'has-danger' : datasetForm.controls.dataset_shortname.invalid}">
                <input class="form-control form-control-sm" type="text" name="" id=""
                [formControl]="datasetForm.controls.dataset_shortname">
            </div>
            <small>Description</small>
            <div class="input-group" [ngClass]="{'has-danger' : datasetForm.controls.dataset_desc.invalid}">
                <input class="form-control form-control-sm" type="text" name="" id=""
                [formControl]="datasetForm.controls.dataset_desc">
            </div>

            <small>Domaine</small>
            <div class="form-check" padding-lg>
                <input [formControl]="datasetForm.controls.marine_domain" class="" type="checkbox" name="domaine" id="terrestre" value="true">
                <small class="" for="terrestre">
                  Domaine terrestre
                </small>
              </div>
            <div class="form-check">
                <input [formControl]="datasetForm.controls.terrestrial_domain" type="checkbox" name="domaine" id="marin" >
                <small class="" for="marin">
                  Domaine marin
                </small>
            </div>

            <pnx-nomenclature
             label="Objectif" [parentFormControl]="datasetForm.controls.id_nomenclature_dataset_objectif"
            [idTypeNomenclature]="114">
            </pnx-nomenclature>
    
            <pnx-nomenclature
             label="Méthode de collècte" [parentFormControl]="datasetForm.controls.id_nomenclature_collecting_method"
            [idTypeNomenclature]="115">
            </pnx-nomenclature>
    
            <pnx-nomenclature
             label="Origine des données" [parentFormControl]="datasetForm.controls.id_nomenclature_data_origin"
            [idTypeNomenclature]="2">
            </pnx-nomenclature>
    
            <pnx-nomenclature
             label="Statut source" [parentFormControl]="datasetForm.controls.id_nomenclature_source_status"
            [idTypeNomenclature]="19">
            </pnx-nomenclature>
    
            <pnx-nomenclature
             label="Type de ressource" [parentFormControl]="datasetForm.controls.id_nomenclature_resource_type"
            [idTypeNomenclature]="102">
            </pnx-nomenclature>
        </div>

  </div>


  <div class="card">
    
      <div class="card-block">
        <h5> Acteur(s) du jeu de données</h5>
        <div *ngFor="let form of cor_dataset_actor_array.controls; let i=index;">
          <h5> </h5>
          <!-- Organismes -->
            <pnx-select-search
              [values]="organisms"
              [parentFormControl]="form.controls.organisms"
              [key]="'nom_organisme'"
              [label]="'Organisme'"
              [multiselect]="'true'">
          </pnx-select-search>

          <!-- Role -->

          <pnx-select-search
            [values]="roles"
            [parentFormControl]="form.controls.roles"
            [key]="'nom_complet'"
            [label]="'Personne ou groupe'"
            [multiselect]="'true'">
          </pnx-select-search>


          <pnx-nomenclature
            label="Type de role" [parentFormControl]="form.controls.id_nomenclature_actor_role"
          [idTypeNomenclature]="109">
          </pnx-nomenclature>

          <button *ngIf="i != 0" class="btn btn-sm btn-danger margin-top-sm" (click)="deleteFormArray(i)"><i class="fa fa-trash" aria-hidden="true"></i>


          </button>
          <hr>

        </div>

        <button class="btn btn-primary btn-sm margin-top-sm" (click)="addFormArray()"> <i class="fa fa-plus"></i>

        </button>


      </div>
    </div>

</div>


<button class="btn btn-success margin-top-sm center" (click)="postDataset()" > Enregistrer le jeu de données</button>
