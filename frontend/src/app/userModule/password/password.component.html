<div class="card card-page center-in-div">
  <div class="card-header">
    <h3 class="underlined main-color">Changement de mot de passe</h3>
  </div>

  <div class="card-body">
    <form [formGroup]="form">
      <div class="form-group row">
        <label
          for="init_password"
          class="col-sm-5 col-form-label text-right"
        >
          Mot de passe initial
        </label>
        <div class="col-sm-7 col-xl-5">
          <input
            type="password"
            class="form-control"
            id="init_password"
            placeholder="Mot de passe actuel"
            formControlName="init_password"
          />
          <small
            *ngIf="
              form.get('init_password').hasError('required') && form.get('init_password').touched
            "
          >
            Ce champ est nécessaire
          </small>
        </div>
      </div>
      <div class="form-group row">
        <label
          for="password"
          class="col-sm-5 col-form-label text-right"
        >
          Nouveau mot de passe
        </label>
        <div class="col-sm-7 col-xl-5">
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Nouveau"
            formControlName="password"
          />
          <small *ngIf="form.get('password').hasError('required') && form.get('password').touched">
            Ce champ est nécessaire
          </small>
        </div>
      </div>
      <div class="form-group row">
        <label
          for="password_confirmation"
          class="col-sm-5 col-form-label text-right"
        >
          Confirmation du mot de passe
        </label>
        <div class="col-sm-7 col-xl-5">
          <input
            type="password"
            class="form-control"
            id="password_confirmation"
            placeholder="Confirmation"
            formControlName="password_confirmation"
          />
          <small
            *ngIf="
              form.get('password_confirmation').hasError('required') &&
              form.get('password_confirmation').touched
            "
          >
            Ce champ est nécessaire
          </small>
          <small
            *ngIf="form.hasError('similarError') && !form.get('password_confirmation').pristine"
          >
            Erreur de confirmation
          </small>
        </div>
      </div>

      <div class="text-center">
        <a
          mat-raised-button
          color="warn"
          routerLink="../"
        >
          Annuler
        </a>
        <span
          matTooltip="{{
            !form.valid ? 'Le formulaire n\'est pas valide' : 'Modifier le mot de passe'
          }}"
        >
          <button
            mat-raised-button
            class="button-success ml-1"
            (click)="save()"
            [disabled]="!form.valid"
          >
            Modifier
          </button>
        </span>
      </div>
    </form>
  </div>
</div>
