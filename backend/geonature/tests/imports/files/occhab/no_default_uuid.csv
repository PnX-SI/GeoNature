Objectif du test;Erreur station;Erreur habitat;id_station_source;unique_id_sinp_station;unique_dataset_id;date_min;date_max;observers;id_nomenclature_area_surface_calculation;WKT;id_nomenclature_geographic_object;unique_id_sinp_habitat;nom_cite;cd_hab;technical_precision
Station + habitat sur la même ligne;OK !;OK !;Station 8;afa81c29-c75d-408d-bf48-53cce02d5561;VALID_DATASET_UUID;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;4ee53579-b09b-408f-aa1f-d62495a66667;prairie;24;
Station uniquement;OK !;Pas d’habitat;;9d3fb1bd-6148-45c4-aa13-ff9212155afe;VALID_DATASET_UUID;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;;;;
Habitat uniquement dans une station existante en base.;Pas de station;OK !;;EXISTING_STATION_UUID;;;;Toto;;;;05f0163a-ab14-4045-84b9-b513188092ae;prairie;24;
Habitat uniquement dans une station existante en base, mais l’habitat n’a pas d’UUID alors qu’il n’est pas généré.;Pas de station;MISSING_VALUE(unique_id_sinp_habitat);;EXISTING_STATION_UUID;;;;Toto;;;;;prairie;24;
Habitat uniquement dans une station existante en base, mais l’UUID est invalide.;Pas de station;INVALID_UUID(unique_id_sinp_habitat);;EXISTING_STATION_UUID;;;;Toto;;;;erroneous;prairie;24;
;;;;;;;;Toto;;;;;;;
;;;;;;;;Toto;;;;;;;
;;;;;;;;Toto;;;;;;;
Habitat mais pas de station référencée;Pas de station;MISSING_VALUE(unique_id_sinp_station);;;;;;Toto;;;;3977b814-1aa2-4e4a-a1e8-b2f50e74a286;prairie;24;
Uniquement un uuid station, mais on ne sait pas s’il appartient à une station ou s’il sert à indiquer le parent d’un habitat;ORPHAN_ROW(unique_id_sinp_station);ORPHAN_ROW(unique_id_sinp_station);;258a2478-8a0e-4321-83df-c2313ad3040e;;;;Toto;;;;;;;
Uniquement un id station source, mais on ne sait pas s’il appartient à une station ou s’il sert à indiquer le parent d’un habitat;ORPHAN_ROW(id_station_source);ORPHAN_ROW(id_station_source);Station -1;;;;;Toto;;;;;;;
Uniquement UUID station + id station source, mais on ne sait pas s’ils appartiennent à une station ou s’ils servent à indiquer le parent d’un habitat;ORPHAN_ROW(unique_id_sinp_station, id_station_source);ORPHAN_ROW(unique_id_sinp_station,id_station_source);Station -2;54e54935-982b-4da3-9aaf-e87e49a1fdf1;;;;Toto;;;;;;;
On importe 2 habitats dans une même nouvelle station dont les données sont répétées. Les lignes contenant la station sont rapproché par UUID.;OK !;OK !;;462d385f-489a-436b-babb-8cca5fc62e1d;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;e5e7a184-3e92-4adb-a721-5bd004b3397f;forêt;24;
;OK !;OK !;;462d385f-489a-436b-babb-8cca5fc62e1d;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;8f52f122-b9ae-45b3-b947-2c9f7934b823;prairie;24;
On importe 2 habitats dans une même nouvelle station dont les données sont répétées MAIS AVEC DES DIFFÉRENCES (date). Les lignes contenant la station sont rapproché par UUID.;INCOHERENT_DATA(unique_id_sinp_station);NO_PARENT_ENTITY(id_station);;74be5e79-72e7-42a8-ba2e-d5e27c9caddb;;17/11/2023;;Toto;;COORD_STATION;St;d91496e9-d904-45a8-9e18-cb8acbbb6ea6;prairie;24;
;INCOHERENT_DATA(unique_id_sinp_station);NO_PARENT_ENTITY(id_station);;74be5e79-72e7-42a8-ba2e-d5e27c9caddb;;18/11/2023;;Toto;;COORD_STATION;St;8b25ede6-b65a-4a85-98d6-0c813bcae3bf;prairie;24;
On importe 2 habitats dans une même nouvelle station dont les données sont répétées mais avec des différences (date INVALIDE). Les lignes contenant la station sont rapproché par UUID. On vérifie qu’on a pas d’erreur sur la date car les contrôles ne doivent pas être lancé si les données sont incohérentes. En revanche, les contrôles des habitats doivent bien être lancés.;INCOHERENT_DATA(unique_id_sinp_station);NO_PARENT_ENTITY(id_station);;74be5e79-72e7-42a8-ba2e-d5e27c9caddb;;17/11/2023;;Toto;;COORD_STATION;St;8235a358-3bc0-4ade-8f60-eb5d9e8ac453;prairie;24;
NO_PARENT_ENTITY(id_station) non levé sur l’habitat  en raison de l’implémentation du check qui ignore les lignes erronées. À voir s’il faut le faire évoluer.;INCOHERENT_DATA(unique_id_sinp_station);INVALID_INTEGER(cd_hab);;74be5e79-72e7-42a8-ba2e-d5e27c9caddb;;date invalide;;Toto;;COORD_STATION;St;0a53de31-be5a-4ad9-a8f8-511e85d50ace;prairie;invalide;
On importe 2 habitats dans une même nouvelle station dont les données sont répétées. Les lignes contenant la station sont rapproché par id origine. Mais les UUID ne sont pas spécifier alors au’ils ne sont pas générés.;MISSING_VALUE(unique_id_sinp_station);MISSING_VALUE(unique_id_sinp_station),ERRONEOUS_PARENT_ENTITY;Station 1;;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;d6050c44-88c0-45c6-bb2c-02f7e72f57aa;prairie;24;
;La station étant dupliqué, elle est ignorée;MISSING_VALUE(unique_id_sinp_station),ERRONEOUS_PARENT_ENTITY;Station 1;;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;f2678b4c-5092-4f6f-902a-b5d21f0d7a88;prairie;24;
On importe 2 habitats dans une même nouvelle station dont les données sont répétées MAIS AVEC DES DIFFÉRENCES (date). Les lignes contenant la station sont rapproché par id origine.;INCOHERENT_DATA(id_station_source);MISSING_VALUE(unique_id_sinp_station);Station 2;;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;2eba7b82-e987-4ea8-bca8-a34de063db87;prairie;24;
;INCOHERENT_DATA(id_station_source);MISSING_VALUE(unique_id_sinp_station);Station 2;;;invalide;17/11/2023;Toto;;COORD_STATION;St;c68163bd-b45d-436b-87ce-389ad7f18572;prairie;24;
Un UUID station invalide lève une erreur sur la station ET sur l’habitat;INVALID_UUID(unique_id_sinp_station);INVALID_UUID(unique_id_sinp_station),ERRONEOUS_PARENT_ENTITY;;Erroneous 1;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;6c02ef80-2e78-4c2c-b8b5-1c75e2349fc2;prairie;24;
Un UUID station invalide lève une erreur sur la station uniquement si pas d’habitat;INVALID_UUID(unique_id_sinp_station),MISSING_VALUE(date_min);Pas d’habitat;;Erroneous 2;;;17/11/2024;Toto;;COORD_STATION;;;;;
Un UUID station invalide lève une erreur sur l’habitat uniquement si pas de station. Comme pour un précédent test d’incohérence,, NO PARENT_ENTITY n’est pas levé en raison d’un choix d’implémentation qui peut être modifié.;Pas de station;INVALID_UUID(unique_id_sinp_station);;Erroneous 3;;;;Toto;;;;0f8b2ae0-df5f-4d66-9c0b-5ccbb0baa7f2;prairie;24;
Les UUID ≠ mais les id origine sont identique !;INCOHERENT_DATA [UUID ≠];NO_PARENT_ENTITY(id_station);Station 3;dd0d12fc-bb85-4029-9c72-14fd8583f9bb;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;791438ee-aeae-4983-9d23-1ae86208128e;prairie;24;
;INCOHERENT_DATA [UUID ≠];NO_PARENT_ENTITY(id_station);Station 3;330bb0f5-dc1c-431a-af1a-d70138b8c99d;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;745743a3-d5e2-4f43-a791-cd4bcf9a06d5;prairie;24;
Les UUID sont égaux mais les id origine ≠ !;INCOHERENT_DATA [id_station_source ≠];NO_PARENT_ENTITY(id_station);Station 4;a5c37acb-c966-4024-bea6-71ec125b51c8;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;fc6b3757-7c6e-4619-a509-8d964135596b;prairie;24;
;INCOHERENT_DATA [id_station_source ≠];NO_PARENT_ENTITY(id_station);Station 5;a5c37acb-c966-4024-bea6-71ec125b51c8;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;de898fc8-8ef7-47ff-8cc0-5a463022fda4;prairie;24;
Les id origine sont identique, mais les UUID ne sont pas toujours renseignés.;INCOHERENT_DATA [UUID ≠];NO_PARENT_ENTITY(id_station);Station 6;7ed90696-4e74-4ed5-98a4-518eea009a7f;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;e63b9d13-73bf-4a2a-9539-d26eb74633ec;prairie;24;
;INCOHERENT_DATA [UUID ≠];MISSING_VALUE(unique_id_sinp_station);Station 6;;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;d8268ad3-cc6a-47a9-80b8-460a98ff3bab;prairie;24;
Les UUID sont égaux mais les id origine ne sont pas toujours renseignés.;INCOHERENT_DATA [id_station_source ≠];NO_PARENT_ENTITY(id_station);Station 7;c4262f95-0b19-422a-848b-8f83c292d27a;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;51ef110f-5f38-414e-8820-6bee9930e46d;prairie;24;
;INCOHERENT_DATA [id_station_source ≠];NO_PARENT_ENTITY(id_station);;c4262f95-0b19-422a-848b-8f83c292d27a;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;e5c4fcb2-2bd1-44e9-a2d1-87888d3da246;prairie;24;
Il y a ni UUID, ni id_origine, or les UUID ne sont pas générés.;MISSING_VALUE(unique_id_sinp_station);MISSING_VALUE(unique_id_sinp_station);;;VALID_DATASET_UUID;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;7aa27e0b-680e-466e-940a-97dd7fd7715a;prairie;24;
Import d’un habitat dans une station existante ailleurs dans le fichier, référencé par UUID.;Pas de station;OK !;;462d385f-489a-436b-babb-8cca5fc62e1d;;;;Toto;;;;3adb0b26-97ba-436e-923e-8a1b4f4d41ea;prairie;24;
Import d’un habitat dans une station existante ailleurs dans le fichier, référencé par id origine.;Pas de station;MISSING_VALUE(unique_id_sinp_station);Station 8;;;;;Toto;;;;4bed57d7-2569-4e49-9b82-14b6b847d5f7;prairie;24;
On importe une station qui existe déjà en base : elle est ignorée;SKIP_EXISTING_UUID;Pas d’habitat;;EXISTING_STATION_UUID;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;;;;
On importe une station qui existe déjà en base et un nouvel habitat, seul l’habitat est importé;SKIP_EXISTING_UUID;OK !;;EXISTING_STATION_UUID;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;33153ba5-8773-4ffc-8e69-7be3e008208a;prairie;24;
On importe une station et un habitat existant déjà en base;SKIP_EXISTING_UUID;SKIP_EXISTING_UUID;;EXISTING_STATION_UUID;;17/11/2023;17/11/2023;Toto;;COORD_STATION;St;EXISTING_HABITAT_UUID;prairie;24;
